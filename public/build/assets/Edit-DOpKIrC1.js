import{a as x,j as e,M as p,U as u,h as y}from"./app-C9WOUg14.js";import{I as o}from"./InputError-DwD7Hx1E.js";import{T as n}from"./TextInput-BMTsiXHU.js";import{A as b}from"./AuthenticatedLayout-Ub0LPKZg.js";import{D as h,c as l}from"./index-DNvUfeoq.js";import"./pdfmake-BosuxZz1.js";import"./transition-D8Q5x7Jj.js";import"./proxy-BevL_dAa.js";import"./index-CLyYrEaO.js";import"./iconBase-CjHYq2Wh.js";const I=({article:s})=>{const{data:a,setData:d,processing:m,errors:i,reset:j}=x({name:s.name,description:s.description,price:s.price,image:null}),g=r=>{r.preventDefault();const t=new FormData;t.append("name",a.name),t.append("description",a.description),t.append("price",a.price),a.image&&t.append("image",a.image),t.append("_method","put"),y.post(route("articles.update",s.id),t,{onSuccess:()=>{l.success("Article mis à jour avec succès!")},onError:c=>{console.error("Errors:",c),l.error("Une erreur s'est produite.")}})};return e.jsxs(b,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Modifier l'article"}),children:[e.jsx(p,{title:"Modifier l'article"}),e.jsx(h,{}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nom"}),e.jsx(n,{type:"text",value:a.name,onChange:r=>d("name",r.target.value),className:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"}),e.jsx(o,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:r=>d("description",r.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",rows:4}),e.jsx(o,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Prix"}),e.jsx(n,{type:"number",value:a.price,onChange:r=>d("price",r.target.value),className:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"}),e.jsx(o,{message:i.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Image"}),s.image&&e.jsx("img",{src:`/storage/${s.image}`,alt:s.name,className:"w-16 h-16 object-cover rounded mb-2"}),e.jsx("input",{type:"file",onChange:r=>d("image",r.target.files[0]),className:"mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",accept:"image/*"}),e.jsx(o,{message:i.image,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx(u,{href:route("articles.index"),className:"px-4 py-2 mr-2 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600",children:m?"Mise à jour...":"Mettre à jour"})]})]})})})})})]})};export{I as default};
