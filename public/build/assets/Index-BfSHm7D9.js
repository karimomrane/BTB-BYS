import{V as f,r as a,j as e,M as j,h as u}from"./app-sWLnvHQw.js";import{A as w,N as x}from"./AuthenticatedLayout-BuiuXDqw.js";import{k as v,D as N}from"./index-BB1XG3Nh.js";import S from"./CommandeTable-C8cDkLgv.js";import{P as C}from"./Pagination-DBodgXvr.js";import"./pdfmake-BosuxZz1.js";import"./transition-D9y0WISi.js";import"./proxy-B-3nq9fy.js";import"./index-BrPijOOA.js";import"./iconBase-DZn_rWyh.js";import"./CommandeDetails-BKQ1NwMh.js";import"./PanierTable-Cq_VBz0A.js";import"./index-BYHSzrUI.js";import"./pdfUtils-DM8jf-G3.js";import"./index-DCj7B9ZH.js";const _={Commandé:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","En cours de préparation":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Préparé:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200","En cours de livraison":"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200",Livré:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Payé:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",Annulé:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},B=({commandes:r,panierCommandes:p,articleCommandes:b,status:d,filters:s})=>{const o=f().props.auth.user,[l,n]=a.useState(null),[i,m]=a.useState(s.start_date||""),[c,g]=a.useState(s.end_date||"");a.useEffect(()=>{d&&v.success(d)},[d]);const h=t=>{n(l?null:t)},k=t=>{t.preventDefault(),u.get(route("commandes.index"),{start_date:i,end_date:c},{preserveState:!0,replace:!0})},y=()=>{m(""),g(""),u.get(route("commandes.index"),{},{preserveState:!0,replace:!0})};return e.jsxs(w,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:[e.jsx(x,{href:route("commandes.create"),active:route().current("commandes.create"),className:"px-4 py-2 rounded border-b-2 border-indigo-600",children:"Nouvelle Commande"}),o.role==="admin"&&e.jsx(x,{href:route("panier_commandes.create"),active:route().current("panier_commandes.create"),className:"px-4 py-2 ml-4 rounded border-b-2 border-indigo-600",children:"Ajouter Panier Commande"})]}),children:[e.jsx(j,{title:"Liste des commandes"}),e.jsx(N,{}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6 p-4 bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("form",{onSubmit:k,className:"flex flex-col md:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de début"}),e.jsx("input",{type:"date",id:"start_date",value:i,onChange:t=>m(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"})]}),e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de fin"}),e.jsx("input",{type:"date",id:"end_date",value:c,onChange:t=>g(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"})]}),e.jsx("button",{type:"submit",className:"w-full md:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Filtrer"}),e.jsx("button",{type:"button",onClick:y,className:"w-full md:w-auto px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Réinitialiser"})]})}),e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx(S,{commandes:r,panierCommandes:p,articleCommandes:b,selectedCommande:l,handleCommandeClick:h,user:o,STATUS_STYLES:_}),r.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"Aucune commande disponible."}),r.links&&e.jsx(C,{links:r.links,className:"mt-6"})]})})]})})]})};export{B as default};
