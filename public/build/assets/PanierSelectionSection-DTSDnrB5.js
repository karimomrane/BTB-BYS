import{r as a,j as e}from"./app-hp2DkSds.js";/* empty css               */import{c as b}from"./index-AYP80Eul.js";import{m as s}from"./proxy-AHo0hQNW.js";import{A as h}from"./index-DRyzD03w.js";import"./pdfmake-BosuxZz1.js";import"./iconBase-mWDOceSG.js";const C=({paniers:l,selectedPaniers:r,handlePanierSelection:u})=>{var g;const[y,o]=a.useState(!1),[n,d]=a.useState(null),[c,p]=a.useState({}),[m,x]=a.useState({x:0,y:0}),j=t=>{p(i=>({...i,[t]:!0}))};return e.jsxs(e.Fragment,{children:[e.jsx(s.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"relative overflow-hidden bg-cover bg-center h-24 rounded-lg mb-8",style:{backgroundImage:"url(/cmdd.jpg)"},children:e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center p-6",children:e.jsxs("button",{onClick:()=>o(!0),className:"w-full text-left bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-between",children:[e.jsx("span",{children:"Sélectionner des Paniers"}),e.jsx("span",{className:"ml-2 transform",children:"▼"})]})})}),e.jsx(h,{children:y&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:()=>o(!1),children:e.jsxs(s.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-4xl p-7 mx-4",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-indigo-600 dark:text-indigo-400",children:"Sélectionner des Paniers"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto h-[450px]",children:l.map(t=>e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:.1},className:`relative bg-white h-[22rem] dark:bg-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden p-4 border-2 z-10 ${r.includes(t.id)?"border-green-500":"border-transparent"}`,onMouseEnter:i=>{d(t.id),x({x:i.clientX,y:i.clientY})},onMouseMove:i=>x({x:i.clientX,y:i.clientY}),onMouseLeave:()=>d(null),onClick:()=>u(t.id),children:[r.includes(t.id)&&e.jsx(s.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3},className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-2 z-10",children:e.jsx(b,{size:16})}),e.jsxs("div",{className:"relative h-40 w-full mb-4",children:[!c[t.id]&&e.jsx("div",{className:"skeleton-loading absolute inset-0 bg-gray-300 dark:bg-gray-600 animate-pulse"}),e.jsx("img",{src:`/storage/${t.image}`,alt:t.name,className:`w-full h-full object-cover rounded-md ${c[t.id]?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>j(t.id)})]}),e.jsx("h3",{className:"text-lg font-semibold text-indigo-600 dark:text-indigo-400",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:t.description}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:["Prix: ",t.price," DT"]})]},t.id))})]})})}),e.jsx(h,{children:n&&e.jsx(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},style:{position:"fixed",top:m.y+20,left:m.x+20,minWidth:"200px"},className:"hovered-articles-list bg-black bg-opacity-80 text-white p-4 rounded-md shadow-lg z-50",children:e.jsx("ul",{className:"text-sm",children:((g=l.find(t=>t.id===n))==null?void 0:g.articles.map((t,i)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[i+1,"."]})," ",t.name]},i)))||e.jsx("li",{children:"Aucun article"})})})})]})};export{C as default};
