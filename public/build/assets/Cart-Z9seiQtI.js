import{j as e,R as j}from"./app-sWLnvHQw.js";import{A as k}from"./index-BYHSzrUI.js";import{m as o}from"./proxy-B-3nq9fy.js";import"./pdfmake-BosuxZz1.js";const w=({paniers:d,articles:i,selectedPaniers:r,panierQuantities:x,selectedExtraArticles:s,extraArticleQuantities:l,isCartOpen:h,setIsCartOpen:u,closeCart:c,calculateGrandTotal:p,calculatePanierTotal:m,calculateExtraArticleTotal:n,handleQuantityChange:g,handleExtraArticleQuantityChange:y})=>e.jsx(k,{children:h&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:c,children:e.jsxs(o.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg h-[700px] overflow-hidden shadow-lg w-full max-w-4xl mx-4 relative",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 z-10 p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-20 w-auto"})})}),e.jsxs("div",{className:"overflow-y-auto h-[calc(100%-200px)] p-10",children:[r.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Détails des Paniers"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"sm:hidden space-y-4",children:d.filter(a=>r.includes(a.id)).map(a=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Prix Unitaire: ",a.price," DT"]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mr-2",children:"Quantité:"}),e.jsx("input",{type:"number",value:x[a.id]||1,onChange:t=>g(a.id,parseInt(t.target.value)),min:"1",className:"w-20 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["Total: ",m(a)," DT"]}),a.articles&&a.articles.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:"Articles inclus:"}),a.articles.map(t=>e.jsx("div",{className:"ml-4",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[t.name," (x",t.pivot.quantity,")"]})},t.id))]})]},a.id))}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Produit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Prix Unitaire"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Quantité"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Total"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700",children:d.filter(a=>r.includes(a.id)).map(a=>e.jsxs(j.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:a.name}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[a.price," DT"]}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:e.jsx("input",{type:"number",value:x[a.id]||1,onChange:t=>g(a.id,parseInt(t.target.value)),min:"1",className:"w-20 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"})}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[m(a)," DT"]})]}),a.articles&&a.articles.length>0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-2",children:e.jsx("div",{className:"pl-8",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Article"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Quantité"})]})}),e.jsx("tbody",{children:a.articles.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:t.pivot.quantity})]},t.id))})]})})})})]},a.id))})]})})]})]}),s.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Détails des Articles Supplémentaires"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"sm:hidden space-y-4",children:i.filter(a=>s.includes(a.id)).map(a=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Prix Unitaire: ",a.price," DT"]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mr-2",children:"Quantité:"}),e.jsx("input",{type:"number",value:l[a.id]||1,onChange:t=>y(a.id,parseInt(t.target.value)),min:"1",className:"w-20 rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["Total: ",n(a)," DT"]})]},a.id))}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Article"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Prix Unitaire"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Quantité"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Total"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700",children:i.filter(a=>s.includes(a.id)).map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:a.name}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[a.price," DT"]}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:e.jsx("input",{type:"number",value:l[a.id]||1,onChange:t=>y(a.id,parseInt(t.target.value)),min:"1",className:"w-20 rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"})}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[n(a)," DT"]})]},a.id))})]})})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 z-10 p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-right mb-4",children:e.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Total: ",p()," DT"]})}),e.jsx("button",{onClick:c,className:"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-500 transition-colors",children:"Fermer"})]})]})})});export{w as default};
